package br.com.bugados.main;

import java.io.*;
import java.util.*;
import br.com.bugados.conta.*;
import br.com.bugados.usuario.Cliente;

public class TestesLeitorCSV {

	public static void main(String[] args) throws IOException {

		String linha;
		int cpf = 0;
		String nome = "";

		BufferedReader csvReader = new BufferedReader(new FileReader("csvCliente.csv"));
		linha = csvReader.readLine();

		String[] data;

		Map<Integer, Conta> mapConta = new HashMap<>();
		Map<Integer, Cliente> mapCliente = new HashMap<>();

		while ((linha = csvReader.readLine()) != null) {
			
			linha = linha.replace("\"", "");

			data = linha.split(";");

			nome = data[0];
			String tipo = data[3];
			cpf = Integer.parseInt(data[1]);
			int senha = Integer.parseInt(data[2]);
			int numero = Integer.parseInt(data[4]);
			int agencia = Integer.parseInt(data[5]);

			Conta novaConta = new Conta(data[0], numero, agencia, tipo, cpf);
			Cliente novoCliente = new Cliente(nome, senha, cpf);

			mapConta.put(cpf, novaConta);
			mapCliente.put(cpf, novoCliente);
			
		}
		
		Cliente cliente1 = mapCliente.get(111);
		System.out.println("Nome: " + cliente1.getNome() + " CPF: " + cliente1.getCpf() + " Senha: " + cliente1.getSenha());
		
		Cliente cliente2 = mapCliente.get(111);
		System.out.println("Nome: " + cliente2.getNome() + " CPF: " + cliente2.getCpf() + " Senha: " + cliente2.getSenha());
		
		Cliente cliente3 = mapCliente.get(111);
		System.out.println("Nome: " + cliente3.getNome() + " CPF: " + cliente3.getCpf() + " Senha: " + cliente3.getSenha());
		
		
		
		csvReader.close();
	}
}
